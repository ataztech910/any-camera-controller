(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"4be6":function(e,t,s){},5485:function(e,t,s){"use strict";s("b815")},"8b24":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"row items-center justify-evenly"},[s("search-component")],1)},r=[],c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"searchComponent"},[e.checkIfObjectIsNotEmpty()?s("div",{staticClass:"searchLayout"},[s("div",{staticClass:"searchLayout__input",class:{noBackground:e.isActive}},[e._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],attrs:{type:"text",placeholder:"введите название города"},domProps:{value:e.searchValue},on:{input:[function(t){t.target.composing||(e.searchValue=t.target.value)},e.inputHandler]}})]),e.getResultArrayLength>0?s("div",{staticClass:"searchLayout__result"},e._l(e.resultCameraArray,(function(t){return s("div",{key:t.cityName},[s("div",{staticClass:"searchLayout__result__cityName"},[e._v(e._s(t.cityName))]),e._l(t.adressList,(function(t){return s("div",{key:t.addressName},[s("div",{staticClass:"searchLayout__result__addressName",on:{click:function(s){return e.selectAddress(t)}}},[e._v(e._s(t.addressName))])])}))],2)})),0):e._e()]):e._e(),e.checkIfObjectIsNotEmpty()?e._e():s("div",[s("div",{staticClass:"selected"},[s("div",{staticClass:"selected__head"},[e._m(1),s("div",[e._v(e._s(e.selectedAddress.addressName))]),s("div",{staticClass:"selected__head__cancel",on:{click:function(t){return e.clearSelection()}}},[s("img",{attrs:{src:"cancel.svg",alt:""}})])]),s("div",{staticClass:"selected__content"},e._l(e.selectedAddress.cameraList,(function(t){return s("div",{key:t.uuid},[s("div",{staticClass:"selected__content__camera"},[s("div",{directives:[{name:"append",rawName:"v-append",value:e.generateScript(t.uuid,t.description),expression:"generateScript(cameras.uuid, cameras.description)"}],staticClass:"selected__content__camera__unit",attrs:{id:t.uuid},on:{appended:e.executeEval}}),e._v("\n            "+e._s(t.description)+"\n          ")])])})),0)])])])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"searchLayout__input__logo"},[s("img",{attrs:{src:"camera.png",alt:""}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("a",{attrs:{href:"/"}},[s("img",{attrs:{src:"camera.png",alt:"Logo"}})])])}],i=s("60a3"),l=s("bc3a"),o=s.n(l),u=function(e,t,s,a){var r,c=arguments.length,n=c<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,s,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(n=(c<3?r(n):c>3?r(t,s,n):r(t,s))||n);return c>3&&n&&Object.defineProperty(t,s,n),n};const d=s("336a");i["c"].use(d);let h=class extends i["c"]{constructor(){super(...arguments),this.dataFileUrl="/cameras_data.json",this.arrayOfCameraPoints=[],this.searchValue="",this.resultCameraArray=[],this.selectedAddress={},this.isActive=!1,this.html="<p>test</p>",this.playerLicence="PLAY2-jPNR8-J8WTA-Eabzm-4Cj6E-u7CPZ"}inputHandler(e){var t;this.resultCameraArray=this.findInCityList(null===(t=e.target.value)||void 0===t?void 0:t.trim())}findInCityList(e){return e.toLowerCase()&&e.length>2?this.arrayOfCameraPoints.cityList.filter((t=>t.cityName.toLowerCase().includes(e.toLowerCase()))):[]}generateScript(e,t){return`<script type="text/javascript">\n              WowzaPlayer.create('${e}',\n              { "license":"${this.playerLicence}",\n              "title":"${t}",\n              "description":"_",\n              "sourceURL":"https://mfc-video.site/live/${e}/playlist.m3u8",\n              "autoPlay":false,\n              "volume":"75",\n              "mute":false,\n              "loop":false,\n              "audioOnly":false,\n              "uiShowQuickRewind":true,\n              "uiQuickRewindSeconds":"30" } );\n            <\/script>`}executeEval(){setTimeout((()=>{}),0)}get getResultArrayLength(){return console.log("resultCameraArray",this.resultCameraArray.length),this.resultCameraArray.length?this.removeBackground(!0):this.removeBackground(!1),this.resultCameraArray.length}removeBackground(e){this.isActive=e}clearSelection(){const e=window;this.selectedAddress.cameraList.forEach((t=>{const s=e["WowzaPlayer"].get(`${t.uuid}`);null!=s&&s.destroy()})),this.selectedAddress={}}checkIfObjectIsNotEmpty(){return 0===Object.keys(this.selectedAddress).length&&this.selectedAddress.constructor===Object}selectAddress(e){this.selectedAddress=e}updateArrayOfCameras(e){this.arrayOfCameraPoints=JSON.parse(JSON.stringify(e))}mounted(){o.a.get(this.dataFileUrl,{headers:{"Access-Control-Allow-Origin":"*"}}).then((e=>{this.updateArrayOfCameras(e.data)}))}};h=u([i["a"]],h);var p=h,m=p,f=(s("8e60"),s("2877")),v=Object(f["a"])(m,c,n,!1,null,null,null),_=v.exports,y=function(e,t,s,a){var r,c=arguments.length,n=c<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,s,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(n=(c<3?r(n):c>3?r(t,s,n):r(t,s))||n);return c>3&&n&&Object.defineProperty(t,s,n),n};let g=class extends i["c"]{};g=y([Object(i["a"])({components:{SearchComponent:_}})],g);var C=g,A=C,b=(s("5485"),s("9989")),O=s("eebe"),w=s.n(O),L=Object(f["a"])(A,a,r,!1,null,null,null);t["default"]=L.exports;w()(L,"components",{QPage:b["a"]})},"8e60":function(e,t,s){"use strict";s("4be6")},b815:function(e,t,s){}}]);